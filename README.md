# crudApp - Filmy Dialogues
CRUD implementation using Express &amp; MongoDB over Node.JS, using JS


## NodeJs WebApp Deployment On Heroku Server
The crudApp implementing MEAN stack is deployed as follows:


## Pre-requisites
```
1. webApp
2. Node.js and npm installed locally
3. Github account (Sign-up-Free-repo)
4. Heroku account (Sign-up-Free-1-GB) 
```


## Conventions
```
# ==> comments
<text> ==> sample comment
$ ==> command to be executed
* ==> may be used to hide passwords 
~ ==> response displayed
```


## Command Prompt Executions
*$ heroku login*
```
# <Enter your Heroku credentials>
~ Email: <shammihans1@gmail.com>
~ Password: <***********>
# My System was behind proxy, let it bypass one can set environment variable or use ssh key authentication,
# So instead of setting environment variable for HTTP_PROXY / HTTPS_PROXY I uses .ssh key
# Generated SSH to default ~user/.ssh/<rsa file> & added to github
# Take help from https://help.github.com/articles/connecting-to-github-with-ssh
# PassPhrase <S******>
```

**<git clone command> <ssh git url>**
*$ git clone <ssh git url> git@github.com:Smi0001/crudApp.git*
```
# create the app at heroku
# Executed create command <heroku create> by mistake at a wrong path
# <at C:/> ~ created at https://thawing-cliffs-90824.herokuapp.com/ | https://git.heroku.com/thawing-cliffs-90824.git 
# I deleted the same from https://dashboard.heroku.com/apps 
# create the app at heroku at right path < C:/crudApp> >
```

*$ heroku create*
```
~ Creating app... done, safe-sierra-85869 https://safe-sierra-85869.herokuapp.com | https://git.heroku.com/safe-sierra-85869.git
```

**deploy by committing the code**
*$ git push heroku master*
```
~ To https://git.heroku.com/safe-sierra-85869.git
~   * [new branch]      master -> master
```

**ensure at least 1 instance of the app is running**
*$ heroku ps:scale web=1*
```
~  Scaling dynos... done, now running web at 1:Free
```
**visit the app at the URL generated by its app name** `safe-sierra-85869` **or run below command**
*$ heroku open*
```
# The webApp would open in the default browser
```

## View logs
*$ heroku logs --tail*
```
~ 2017-09-11T08:03:01.099744+00:00 app[api]: Initial release by user shammihans1@gmail.com
~ 2017-09-11T08:03:01.099744+00:00 app[api]: Release v1 created by user shammihans1@gmail.com
...
~ 2017-09-11T08:04:28.000000+00:00 app[api]: Build started by user shammihans1@gmail.com
~ 2017-09-11T08:04:56.996307+00:00 app[api]: Release v3 created by user shammihans1@gmail.com
~ 2017-09-11T08:04:57.011824+00:00 app[api]: Scaled to web@1:Free by user shammihans1@gmail.com
~ 2017-09-11T08:04:56.996307+00:00 app[api]: Deploy abb0d8d2 by user shammihans1@gmail.com
~ 2017-09-11T08:04:28.000000+00:00 app[api]: Build succeeded
~ 2017-09-11T08:04:58.942391+00:00 heroku[web.1]: Starting process with command `npm start`
~ 2017-09-11T08:05:04.028577+00:00 app[web.1]:
~ 2017-09-11T08:05:04.028591+00:00 app[web.1]: > node server.js
~ 2017-09-11T08:05:04.028592+00:00 app[web.1]:
~ 2017-09-11T08:05:04.028590+00:00 app[web.1]: > crudapp@1.0.0 start /app

# Press Control+C to stop streaming the logs.
# I got error as I forgot to change my local port number to heroku port no.
# We can push the local changes to heroku master
# We can also commit our changes to github & further heroku will be updated, if github a/c is connected to it.

# To explicitly declare what command should be executed to start your app, create Procfile that would contain command <web: node index.js>

```
